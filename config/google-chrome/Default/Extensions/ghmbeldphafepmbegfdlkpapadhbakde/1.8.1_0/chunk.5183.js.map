{"version":3,"file":"chunk.5183.js","mappings":"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","sources":["webpack://proton-pass-extension/../../node_modules/@openpgp/asmcrypto.js/dist_es8/other/errors.js","webpack://proton-pass-extension/../../node_modules/@openpgp/asmcrypto.js/dist_es8/other/utils.js","webpack://proton-pass-extension/../../node_modules/@openpgp/asmcrypto.js/dist_es8/aes/aes.asm.js","webpack://proton-pass-extension/../../node_modules/@openpgp/asmcrypto.js/dist_es8/aes/aes.js","webpack://proton-pass-extension/../../node_modules/@openpgp/asmcrypto.js/dist_es8/aes/cfb.js","webpack://proton-pass-extension/../../node_modules/pmcrypto/lib/crypto/cfb.js"],"sourcesContent":["export class IllegalStateError extends Error {\n    constructor(...args) {\n        super(...args);\n        Object.create(Error.prototype, { name: { value: 'IllegalStateError' } });\n    }\n}\nexport class IllegalArgumentError extends Error {\n    constructor(...args) {\n        super(...args);\n        Object.create(Error.prototype, { name: { value: 'IllegalArgumentError' } });\n    }\n}\nexport class SecurityError extends Error {\n    constructor(...args) {\n        super(...args);\n        Object.create(Error.prototype, { name: { value: 'SecurityError' } });\n    }\n}\n","const local_atob = typeof atob === 'undefined' ? (str) => require('buffer').Buffer.from(str, 'base64').toString('binary') : atob;\nconst local_btoa = typeof btoa === 'undefined' ? (str) => require('buffer').Buffer.from(str, 'binary').toString('base64') : btoa;\nexport function string_to_bytes(str, utf8 = false) {\n    var len = str.length, bytes = new Uint8Array(utf8 ? 4 * len : len);\n    for (var i = 0, j = 0; i < len; i++) {\n        var c = str.charCodeAt(i);\n        if (utf8 && 0xd800 <= c && c <= 0xdbff) {\n            if (++i >= len)\n                throw new Error('Malformed string, low surrogate expected at position ' + i);\n            c = ((c ^ 0xd800) << 10) | 0x10000 | (str.charCodeAt(i) ^ 0xdc00);\n        }\n        else if (!utf8 && c >>> 8) {\n            throw new Error('Wide characters are not allowed.');\n        }\n        if (!utf8 || c <= 0x7f) {\n            bytes[j++] = c;\n        }\n        else if (c <= 0x7ff) {\n            bytes[j++] = 0xc0 | (c >> 6);\n            bytes[j++] = 0x80 | (c & 0x3f);\n        }\n        else if (c <= 0xffff) {\n            bytes[j++] = 0xe0 | (c >> 12);\n            bytes[j++] = 0x80 | ((c >> 6) & 0x3f);\n            bytes[j++] = 0x80 | (c & 0x3f);\n        }\n        else {\n            bytes[j++] = 0xf0 | (c >> 18);\n            bytes[j++] = 0x80 | ((c >> 12) & 0x3f);\n            bytes[j++] = 0x80 | ((c >> 6) & 0x3f);\n            bytes[j++] = 0x80 | (c & 0x3f);\n        }\n    }\n    return bytes.subarray(0, j);\n}\nexport function hex_to_bytes(str) {\n    var len = str.length;\n    if (len & 1) {\n        str = '0' + str;\n        len++;\n    }\n    var bytes = new Uint8Array(len >> 1);\n    for (var i = 0; i < len; i += 2) {\n        bytes[i >> 1] = parseInt(str.substr(i, 2), 16);\n    }\n    return bytes;\n}\nexport function base64_to_bytes(str) {\n    return string_to_bytes(local_atob(str));\n}\nexport function bytes_to_string(bytes, utf8 = false) {\n    var len = bytes.length, chars = new Array(len);\n    for (var i = 0, j = 0; i < len; i++) {\n        var b = bytes[i];\n        if (!utf8 || b < 128) {\n            chars[j++] = b;\n        }\n        else if (b >= 192 && b < 224 && i + 1 < len) {\n            chars[j++] = ((b & 0x1f) << 6) | (bytes[++i] & 0x3f);\n        }\n        else if (b >= 224 && b < 240 && i + 2 < len) {\n            chars[j++] = ((b & 0xf) << 12) | ((bytes[++i] & 0x3f) << 6) | (bytes[++i] & 0x3f);\n        }\n        else if (b >= 240 && b < 248 && i + 3 < len) {\n            var c = ((b & 7) << 18) | ((bytes[++i] & 0x3f) << 12) | ((bytes[++i] & 0x3f) << 6) | (bytes[++i] & 0x3f);\n            if (c <= 0xffff) {\n                chars[j++] = c;\n            }\n            else {\n                c ^= 0x10000;\n                chars[j++] = 0xd800 | (c >> 10);\n                chars[j++] = 0xdc00 | (c & 0x3ff);\n            }\n        }\n        else {\n            throw new Error('Malformed UTF8 character at byte offset ' + i);\n        }\n    }\n    var str = '', bs = 16384;\n    for (var i = 0; i < j; i += bs) {\n        str += String.fromCharCode.apply(String, chars.slice(i, i + bs <= j ? i + bs : j));\n    }\n    return str;\n}\nexport function bytes_to_hex(arr) {\n    var str = '';\n    for (var i = 0; i < arr.length; i++) {\n        var h = (arr[i] & 0xff).toString(16);\n        if (h.length < 2)\n            str += '0';\n        str += h;\n    }\n    return str;\n}\nexport function bytes_to_base64(arr) {\n    return local_btoa(bytes_to_string(arr));\n}\nexport function pow2_ceil(a) {\n    a -= 1;\n    a |= a >>> 1;\n    a |= a >>> 2;\n    a |= a >>> 4;\n    a |= a >>> 8;\n    a |= a >>> 16;\n    a += 1;\n    return a;\n}\nexport function is_number(a) {\n    return typeof a === 'number';\n}\nexport function is_string(a) {\n    return typeof a === 'string';\n}\nexport function is_buffer(a) {\n    return a instanceof ArrayBuffer;\n}\nexport function is_bytes(a) {\n    return a instanceof Uint8Array;\n}\nexport function is_typed_array(a) {\n    return (a instanceof Int8Array ||\n        a instanceof Uint8Array ||\n        a instanceof Int16Array ||\n        a instanceof Uint16Array ||\n        a instanceof Int32Array ||\n        a instanceof Uint32Array ||\n        a instanceof Float32Array ||\n        a instanceof Float64Array);\n}\nexport function _heap_init(heap, heapSize) {\n    const size = heap ? heap.byteLength : heapSize || 65536;\n    if (size & 0xfff || size <= 0)\n        throw new Error('heap size must be a positive integer and a multiple of 4096');\n    heap = heap || new Uint8Array(new ArrayBuffer(size));\n    return heap;\n}\nexport function _heap_write(heap, hpos, data, dpos, dlen) {\n    const hlen = heap.length - hpos;\n    const wlen = hlen < dlen ? hlen : dlen;\n    heap.set(data.subarray(dpos, dpos + wlen), hpos);\n    return wlen;\n}\nexport function joinBytes(...arg) {\n    const totalLenght = arg.reduce((sum, curr) => sum + curr.length, 0);\n    const ret = new Uint8Array(totalLenght);\n    let cursor = 0;\n    for (let i = 0; i < arg.length; i++) {\n        ret.set(arg[i], cursor);\n        cursor += arg[i].length;\n    }\n    return ret;\n}\n","/**\n * @file {@link http://asmjs.org Asm.js} implementation of the {@link https://en.wikipedia.org/wiki/Advanced_Encryption_Standard Advanced Encryption Standard}.\n * @author Artem S Vybornov <vybornov@gmail.com>\n * @license MIT\n */\nexport var AES_asm = function () {\n  \"use strict\";\n\n  /**\n   * Galois Field stuff init flag\n   */\n  var ginit_done = false;\n\n  /**\n   * Galois Field exponentiation and logarithm tables for 3 (the generator)\n   */\n  var gexp3, glog3;\n\n  /**\n   * Init Galois Field tables\n   */\n  function ginit() {\n    gexp3 = [],\n      glog3 = [];\n\n    var a = 1, c, d;\n    for (c = 0; c < 255; c++) {\n      gexp3[c] = a;\n\n      // Multiply by three\n      d = a & 0x80, a <<= 1, a &= 255;\n      if (d === 0x80) a ^= 0x1b;\n      a ^= gexp3[c];\n\n      // Set the log table value\n      glog3[gexp3[c]] = c;\n    }\n    gexp3[255] = gexp3[0];\n    glog3[0] = 0;\n\n    ginit_done = true;\n  }\n\n  /**\n   * Galois Field multiplication\n   * @param {number} a\n   * @param {number} b\n   * @return {number}\n   */\n  function gmul(a, b) {\n    var c = gexp3[(glog3[a] + glog3[b]) % 255];\n    if (a === 0 || b === 0) c = 0;\n    return c;\n  }\n\n  /**\n   * Galois Field reciprocal\n   * @param {number} a\n   * @return {number}\n   */\n  function ginv(a) {\n    var i = gexp3[255 - glog3[a]];\n    if (a === 0) i = 0;\n    return i;\n  }\n\n  /**\n   * AES stuff init flag\n   */\n  var aes_init_done = false;\n\n  /**\n   * Encryption, Decryption, S-Box and KeyTransform tables\n   *\n   * @type {number[]}\n   */\n  var aes_sbox;\n\n  /**\n   * @type {number[]}\n   */\n  var aes_sinv;\n\n  /**\n   * @type {number[][]}\n   */\n  var aes_enc;\n\n  /**\n   * @type {number[][]}\n   */\n  var aes_dec;\n\n  /**\n   * Init AES tables\n   */\n  function aes_init() {\n    if (!ginit_done) ginit();\n\n    // Calculates AES S-Box value\n    function _s(a) {\n      var c, s, x;\n      s = x = ginv(a);\n      for (c = 0; c < 4; c++) {\n        s = ((s << 1) | (s >>> 7)) & 255;\n        x ^= s;\n      }\n      x ^= 99;\n      return x;\n    }\n\n    // Tables\n    aes_sbox = [],\n      aes_sinv = [],\n      aes_enc = [[], [], [], []],\n      aes_dec = [[], [], [], []];\n\n    for (var i = 0; i < 256; i++) {\n      var s = _s(i);\n\n      // S-Box and its inverse\n      aes_sbox[i] = s;\n      aes_sinv[s] = i;\n\n      // Ecryption and Decryption tables\n      aes_enc[0][i] = (gmul(2, s) << 24) | (s << 16) | (s << 8) | gmul(3, s);\n      aes_dec[0][s] = (gmul(14, i) << 24) | (gmul(9, i) << 16) | (gmul(13, i) << 8) | gmul(11, i);\n      // Rotate tables\n      for (var t = 1; t < 4; t++) {\n        aes_enc[t][i] = (aes_enc[t - 1][i] >>> 8) | (aes_enc[t - 1][i] << 24);\n        aes_dec[t][s] = (aes_dec[t - 1][s] >>> 8) | (aes_dec[t - 1][s] << 24);\n      }\n    }\n\n    aes_init_done = true;\n  }\n\n  /**\n   * Asm.js module constructor.\n   *\n   * <p>\n   * Heap buffer layout by offset:\n   * <pre>\n   * 0x0000   encryption key schedule\n   * 0x0400   decryption key schedule\n   * 0x0800   sbox\n   * 0x0c00   inv sbox\n   * 0x1000   encryption tables\n   * 0x2000   decryption tables\n   * 0x3000   reserved (future GCM multiplication lookup table)\n   * 0x4000   data\n   * </pre>\n   * Don't touch anything before <code>0x400</code>.\n   * </p>\n   *\n   * @alias AES_asm\n   * @class\n   * @param foreign - <i>ignored</i>\n   * @param buffer - heap buffer to link with\n   */\n  var wrapper = function (foreign, buffer) {\n    // Init AES stuff for the first time\n    if (!aes_init_done) aes_init();\n\n    // Fill up AES tables\n    var heap = new Uint32Array(buffer);\n    heap.set(aes_sbox, 0x0800 >> 2);\n    heap.set(aes_sinv, 0x0c00 >> 2);\n    for (var i = 0; i < 4; i++) {\n      heap.set(aes_enc[i], (0x1000 + 0x400 * i) >> 2);\n      heap.set(aes_dec[i], (0x2000 + 0x400 * i) >> 2);\n    }\n\n    /**\n     * Calculate AES key schedules.\n     * @instance\n     * @memberof AES_asm\n     * @param {number} ks - key size, 4/6/8 (for 128/192/256-bit key correspondingly)\n     * @param {number} k0 - key vector components\n     * @param {number} k1 - key vector components\n     * @param {number} k2 - key vector components\n     * @param {number} k3 - key vector components\n     * @param {number} k4 - key vector components\n     * @param {number} k5 - key vector components\n     * @param {number} k6 - key vector components\n     * @param {number} k7 - key vector components\n     */\n    function set_key(ks, k0, k1, k2, k3, k4, k5, k6, k7) {\n      var ekeys = heap.subarray(0x000, 60),\n        dkeys = heap.subarray(0x100, 0x100 + 60);\n\n      // Encryption key schedule\n      ekeys.set([k0, k1, k2, k3, k4, k5, k6, k7]);\n      for (var i = ks, rcon = 1; i < 4 * ks + 28; i++) {\n        var k = ekeys[i - 1];\n        if ((i % ks === 0) || (ks === 8 && i % ks === 4)) {\n          k = aes_sbox[k >>> 24] << 24 ^ aes_sbox[k >>> 16 & 255] << 16 ^ aes_sbox[k >>> 8 & 255] << 8 ^ aes_sbox[k & 255];\n        }\n        if (i % ks === 0) {\n          k = (k << 8) ^ (k >>> 24) ^ (rcon << 24);\n          rcon = (rcon << 1) ^ ((rcon & 0x80) ? 0x1b : 0);\n        }\n        ekeys[i] = ekeys[i - ks] ^ k;\n      }\n\n      // Decryption key schedule\n      for (var j = 0; j < i; j += 4) {\n        for (var jj = 0; jj < 4; jj++) {\n          var k = ekeys[i - (4 + j) + (4 - jj) % 4];\n          if (j < 4 || j >= i - 4) {\n            dkeys[j + jj] = k;\n          } else {\n            dkeys[j + jj] = aes_dec[0][aes_sbox[k >>> 24]]\n              ^ aes_dec[1][aes_sbox[k >>> 16 & 255]]\n              ^ aes_dec[2][aes_sbox[k >>> 8 & 255]]\n              ^ aes_dec[3][aes_sbox[k & 255]];\n          }\n        }\n      }\n\n      // Set rounds number\n      asm.set_rounds(ks + 5);\n    }\n\n    // create library object with necessary properties\n    var stdlib = {Uint8Array: Uint8Array, Uint32Array: Uint32Array};\n\n    var asm = function (stdlib, foreign, buffer) {\n      \"use asm\";\n\n      var S0 = 0, S1 = 0, S2 = 0, S3 = 0,\n        I0 = 0, I1 = 0, I2 = 0, I3 = 0,\n        N0 = 0, N1 = 0, N2 = 0, N3 = 0,\n        M0 = 0, M1 = 0, M2 = 0, M3 = 0,\n        H0 = 0, H1 = 0, H2 = 0, H3 = 0,\n        R = 0;\n\n      var HEAP = new stdlib.Uint32Array(buffer),\n        DATA = new stdlib.Uint8Array(buffer);\n\n      /**\n       * AES core\n       * @param {number} k - precomputed key schedule offset\n       * @param {number} s - precomputed sbox table offset\n       * @param {number} t - precomputed round table offset\n       * @param {number} r - number of inner rounds to perform\n       * @param {number} x0 - 128-bit input block vector\n       * @param {number} x1 - 128-bit input block vector\n       * @param {number} x2 - 128-bit input block vector\n       * @param {number} x3 - 128-bit input block vector\n       */\n      function _core(k, s, t, r, x0, x1, x2, x3) {\n        k = k | 0;\n        s = s | 0;\n        t = t | 0;\n        r = r | 0;\n        x0 = x0 | 0;\n        x1 = x1 | 0;\n        x2 = x2 | 0;\n        x3 = x3 | 0;\n\n        var t1 = 0, t2 = 0, t3 = 0,\n          y0 = 0, y1 = 0, y2 = 0, y3 = 0,\n          i = 0;\n\n        t1 = t | 0x400, t2 = t | 0x800, t3 = t | 0xc00;\n\n        // round 0\n        x0 = x0 ^ HEAP[(k | 0) >> 2],\n          x1 = x1 ^ HEAP[(k | 4) >> 2],\n          x2 = x2 ^ HEAP[(k | 8) >> 2],\n          x3 = x3 ^ HEAP[(k | 12) >> 2];\n\n        // round 1..r\n        for (i = 16; (i | 0) <= (r << 4); i = (i + 16) | 0) {\n          y0 = HEAP[(t | x0 >> 22 & 1020) >> 2] ^ HEAP[(t1 | x1 >> 14 & 1020) >> 2] ^ HEAP[(t2 | x2 >> 6 & 1020) >> 2] ^ HEAP[(t3 | x3 << 2 & 1020) >> 2] ^ HEAP[(k | i | 0) >> 2],\n            y1 = HEAP[(t | x1 >> 22 & 1020) >> 2] ^ HEAP[(t1 | x2 >> 14 & 1020) >> 2] ^ HEAP[(t2 | x3 >> 6 & 1020) >> 2] ^ HEAP[(t3 | x0 << 2 & 1020) >> 2] ^ HEAP[(k | i | 4) >> 2],\n            y2 = HEAP[(t | x2 >> 22 & 1020) >> 2] ^ HEAP[(t1 | x3 >> 14 & 1020) >> 2] ^ HEAP[(t2 | x0 >> 6 & 1020) >> 2] ^ HEAP[(t3 | x1 << 2 & 1020) >> 2] ^ HEAP[(k | i | 8) >> 2],\n            y3 = HEAP[(t | x3 >> 22 & 1020) >> 2] ^ HEAP[(t1 | x0 >> 14 & 1020) >> 2] ^ HEAP[(t2 | x1 >> 6 & 1020) >> 2] ^ HEAP[(t3 | x2 << 2 & 1020) >> 2] ^ HEAP[(k | i | 12) >> 2];\n          x0 = y0, x1 = y1, x2 = y2, x3 = y3;\n        }\n\n        // final round\n        S0 = HEAP[(s | x0 >> 22 & 1020) >> 2] << 24 ^ HEAP[(s | x1 >> 14 & 1020) >> 2] << 16 ^ HEAP[(s | x2 >> 6 & 1020) >> 2] << 8 ^ HEAP[(s | x3 << 2 & 1020) >> 2] ^ HEAP[(k | i | 0) >> 2],\n          S1 = HEAP[(s | x1 >> 22 & 1020) >> 2] << 24 ^ HEAP[(s | x2 >> 14 & 1020) >> 2] << 16 ^ HEAP[(s | x3 >> 6 & 1020) >> 2] << 8 ^ HEAP[(s | x0 << 2 & 1020) >> 2] ^ HEAP[(k | i | 4) >> 2],\n          S2 = HEAP[(s | x2 >> 22 & 1020) >> 2] << 24 ^ HEAP[(s | x3 >> 14 & 1020) >> 2] << 16 ^ HEAP[(s | x0 >> 6 & 1020) >> 2] << 8 ^ HEAP[(s | x1 << 2 & 1020) >> 2] ^ HEAP[(k | i | 8) >> 2],\n          S3 = HEAP[(s | x3 >> 22 & 1020) >> 2] << 24 ^ HEAP[(s | x0 >> 14 & 1020) >> 2] << 16 ^ HEAP[(s | x1 >> 6 & 1020) >> 2] << 8 ^ HEAP[(s | x2 << 2 & 1020) >> 2] ^ HEAP[(k | i | 12) >> 2];\n      }\n\n      /**\n       * ECB mode encryption\n       * @param {number} x0 - 128-bit input block vector\n       * @param {number} x1 - 128-bit input block vector\n       * @param {number} x2 - 128-bit input block vector\n       * @param {number} x3 - 128-bit input block vector\n       */\n      function _ecb_enc(x0, x1, x2, x3) {\n        x0 = x0 | 0;\n        x1 = x1 | 0;\n        x2 = x2 | 0;\n        x3 = x3 | 0;\n\n        _core(\n          0x0000, 0x0800, 0x1000,\n          R,\n          x0,\n          x1,\n          x2,\n          x3\n        );\n      }\n\n      /**\n       * ECB mode decryption\n       * @param {number} x0 - 128-bit input block vector\n       * @param {number} x1 - 128-bit input block vector\n       * @param {number} x2 - 128-bit input block vector\n       * @param {number} x3 - 128-bit input block vector\n       */\n      function _ecb_dec(x0, x1, x2, x3) {\n        x0 = x0 | 0;\n        x1 = x1 | 0;\n        x2 = x2 | 0;\n        x3 = x3 | 0;\n\n        var t = 0;\n\n        _core(\n          0x0400, 0x0c00, 0x2000,\n          R,\n          x0,\n          x3,\n          x2,\n          x1\n        );\n\n        t = S1, S1 = S3, S3 = t;\n      }\n\n\n      /**\n       * CBC mode encryption\n       * @param {number} x0 - 128-bit input block vector\n       * @param {number} x1 - 128-bit input block vector\n       * @param {number} x2 - 128-bit input block vector\n       * @param {number} x3 - 128-bit input block vector\n       */\n      function _cbc_enc(x0, x1, x2, x3) {\n        x0 = x0 | 0;\n        x1 = x1 | 0;\n        x2 = x2 | 0;\n        x3 = x3 | 0;\n\n        _core(\n          0x0000, 0x0800, 0x1000,\n          R,\n          I0 ^ x0,\n          I1 ^ x1,\n          I2 ^ x2,\n          I3 ^ x3\n        );\n\n        I0 = S0,\n          I1 = S1,\n          I2 = S2,\n          I3 = S3;\n      }\n\n      /**\n       * CBC mode decryption\n       * @param {number} x0 - 128-bit input block vector\n       * @param {number} x1 - 128-bit input block vector\n       * @param {number} x2 - 128-bit input block vector\n       * @param {number} x3 - 128-bit input block vector\n       */\n      function _cbc_dec(x0, x1, x2, x3) {\n        x0 = x0 | 0;\n        x1 = x1 | 0;\n        x2 = x2 | 0;\n        x3 = x3 | 0;\n\n        var t = 0;\n\n        _core(\n          0x0400, 0x0c00, 0x2000,\n          R,\n          x0,\n          x3,\n          x2,\n          x1\n        );\n\n        t = S1, S1 = S3, S3 = t;\n\n        S0 = S0 ^ I0,\n          S1 = S1 ^ I1,\n          S2 = S2 ^ I2,\n          S3 = S3 ^ I3;\n\n        I0 = x0,\n          I1 = x1,\n          I2 = x2,\n          I3 = x3;\n      }\n\n      /**\n       * CFB mode encryption\n       * @param {number} x0 - 128-bit input block vector\n       * @param {number} x1 - 128-bit input block vector\n       * @param {number} x2 - 128-bit input block vector\n       * @param {number} x3 - 128-bit input block vector\n       */\n      function _cfb_enc(x0, x1, x2, x3) {\n        x0 = x0 | 0;\n        x1 = x1 | 0;\n        x2 = x2 | 0;\n        x3 = x3 | 0;\n\n        _core(\n          0x0000, 0x0800, 0x1000,\n          R,\n          I0,\n          I1,\n          I2,\n          I3\n        );\n\n        I0 = S0 = S0 ^ x0,\n          I1 = S1 = S1 ^ x1,\n          I2 = S2 = S2 ^ x2,\n          I3 = S3 = S3 ^ x3;\n      }\n\n\n      /**\n       * CFB mode decryption\n       * @param {number} x0 - 128-bit input block vector\n       * @param {number} x1 - 128-bit input block vector\n       * @param {number} x2 - 128-bit input block vector\n       * @param {number} x3 - 128-bit input block vector\n       */\n      function _cfb_dec(x0, x1, x2, x3) {\n        x0 = x0 | 0;\n        x1 = x1 | 0;\n        x2 = x2 | 0;\n        x3 = x3 | 0;\n\n        _core(\n          0x0000, 0x0800, 0x1000,\n          R,\n          I0,\n          I1,\n          I2,\n          I3\n        );\n\n        S0 = S0 ^ x0,\n          S1 = S1 ^ x1,\n          S2 = S2 ^ x2,\n          S3 = S3 ^ x3;\n\n        I0 = x0,\n          I1 = x1,\n          I2 = x2,\n          I3 = x3;\n      }\n\n      /**\n       * OFB mode encryption / decryption\n       * @param {number} x0 - 128-bit input block vector\n       * @param {number} x1 - 128-bit input block vector\n       * @param {number} x2 - 128-bit input block vector\n       * @param {number} x3 - 128-bit input block vector\n       */\n      function _ofb(x0, x1, x2, x3) {\n        x0 = x0 | 0;\n        x1 = x1 | 0;\n        x2 = x2 | 0;\n        x3 = x3 | 0;\n\n        _core(\n          0x0000, 0x0800, 0x1000,\n          R,\n          I0,\n          I1,\n          I2,\n          I3\n        );\n\n        I0 = S0,\n          I1 = S1,\n          I2 = S2,\n          I3 = S3;\n\n        S0 = S0 ^ x0,\n          S1 = S1 ^ x1,\n          S2 = S2 ^ x2,\n          S3 = S3 ^ x3;\n      }\n\n      /**\n       * CTR mode encryption / decryption\n       * @param {number} x0 - 128-bit input block vector\n       * @param {number} x1 - 128-bit input block vector\n       * @param {number} x2 - 128-bit input block vector\n       * @param {number} x3 - 128-bit input block vector\n       */\n      function _ctr(x0, x1, x2, x3) {\n        x0 = x0 | 0;\n        x1 = x1 | 0;\n        x2 = x2 | 0;\n        x3 = x3 | 0;\n\n        _core(\n          0x0000, 0x0800, 0x1000,\n          R,\n          N0,\n          N1,\n          N2,\n          N3\n        );\n\n        N3 = (~M3 & N3) | M3 & (N3 + 1);\n          N2 = (~M2 & N2) | M2 & (N2 + ((N3 | 0) == 0));\n          N1 = (~M1 & N1) | M1 & (N1 + ((N2 | 0) == 0));\n          N0 = (~M0 & N0) | M0 & (N0 + ((N1 | 0) == 0));\n\n        S0 = S0 ^ x0;\n          S1 = S1 ^ x1;\n          S2 = S2 ^ x2;\n          S3 = S3 ^ x3;\n      }\n\n      /**\n       * GCM mode MAC calculation\n       * @param {number} x0 - 128-bit input block vector\n       * @param {number} x1 - 128-bit input block vector\n       * @param {number} x2 - 128-bit input block vector\n       * @param {number} x3 - 128-bit input block vector\n       */\n      function _gcm_mac(x0, x1, x2, x3) {\n        x0 = x0 | 0;\n        x1 = x1 | 0;\n        x2 = x2 | 0;\n        x3 = x3 | 0;\n\n        var y0 = 0, y1 = 0, y2 = 0, y3 = 0,\n          z0 = 0, z1 = 0, z2 = 0, z3 = 0,\n          i = 0, c = 0;\n\n        x0 = x0 ^ I0,\n          x1 = x1 ^ I1,\n          x2 = x2 ^ I2,\n          x3 = x3 ^ I3;\n\n        y0 = H0 | 0,\n          y1 = H1 | 0,\n          y2 = H2 | 0,\n          y3 = H3 | 0;\n\n        for (; (i | 0) < 128; i = (i + 1) | 0) {\n          if (y0 >>> 31) {\n            z0 = z0 ^ x0,\n              z1 = z1 ^ x1,\n              z2 = z2 ^ x2,\n              z3 = z3 ^ x3;\n          }\n\n          y0 = (y0 << 1) | (y1 >>> 31),\n            y1 = (y1 << 1) | (y2 >>> 31),\n            y2 = (y2 << 1) | (y3 >>> 31),\n            y3 = (y3 << 1);\n\n          c = x3 & 1;\n\n          x3 = (x3 >>> 1) | (x2 << 31),\n            x2 = (x2 >>> 1) | (x1 << 31),\n            x1 = (x1 >>> 1) | (x0 << 31),\n            x0 = (x0 >>> 1);\n\n          if (c) x0 = x0 ^ 0xe1000000;\n        }\n\n        I0 = z0,\n          I1 = z1,\n          I2 = z2,\n          I3 = z3;\n      }\n\n      /**\n       * Set the internal rounds number.\n       * @instance\n       * @memberof AES_asm\n       * @param {number} r - number if inner AES rounds\n       */\n      function set_rounds(r) {\n        r = r | 0;\n        R = r;\n      }\n\n      /**\n       * Populate the internal state of the module.\n       * @instance\n       * @memberof AES_asm\n       * @param {number} s0 - state vector\n       * @param {number} s1 - state vector\n       * @param {number} s2 - state vector\n       * @param {number} s3 - state vector\n       */\n      function set_state(s0, s1, s2, s3) {\n        s0 = s0 | 0;\n        s1 = s1 | 0;\n        s2 = s2 | 0;\n        s3 = s3 | 0;\n\n        S0 = s0,\n          S1 = s1,\n          S2 = s2,\n          S3 = s3;\n      }\n\n      /**\n       * Populate the internal iv of the module.\n       * @instance\n       * @memberof AES_asm\n       * @param {number} i0 - iv vector\n       * @param {number} i1 - iv vector\n       * @param {number} i2 - iv vector\n       * @param {number} i3 - iv vector\n       */\n      function set_iv(i0, i1, i2, i3) {\n        i0 = i0 | 0;\n        i1 = i1 | 0;\n        i2 = i2 | 0;\n        i3 = i3 | 0;\n\n        I0 = i0,\n          I1 = i1,\n          I2 = i2,\n          I3 = i3;\n      }\n\n      /**\n       * Set nonce for CTR-family modes.\n       * @instance\n       * @memberof AES_asm\n       * @param {number} n0 - nonce vector\n       * @param {number} n1 - nonce vector\n       * @param {number} n2 - nonce vector\n       * @param {number} n3 - nonce vector\n       */\n      function set_nonce(n0, n1, n2, n3) {\n        n0 = n0 | 0;\n        n1 = n1 | 0;\n        n2 = n2 | 0;\n        n3 = n3 | 0;\n\n        N0 = n0,\n          N1 = n1,\n          N2 = n2,\n          N3 = n3;\n      }\n\n      /**\n       * Set counter mask for CTR-family modes.\n       * @instance\n       * @memberof AES_asm\n       * @param {number} m0 - counter mask vector\n       * @param {number} m1 - counter mask vector\n       * @param {number} m2 - counter mask vector\n       * @param {number} m3 - counter mask vector\n       */\n      function set_mask(m0, m1, m2, m3) {\n        m0 = m0 | 0;\n        m1 = m1 | 0;\n        m2 = m2 | 0;\n        m3 = m3 | 0;\n\n        M0 = m0,\n          M1 = m1,\n          M2 = m2,\n          M3 = m3;\n      }\n\n      /**\n       * Set counter for CTR-family modes.\n       * @instance\n       * @memberof AES_asm\n       * @param {number} c0 - counter vector\n       * @param {number} c1 - counter vector\n       * @param {number} c2 - counter vector\n       * @param {number} c3 - counter vector\n       */\n      function set_counter(c0, c1, c2, c3) {\n        c0 = c0 | 0;\n        c1 = c1 | 0;\n        c2 = c2 | 0;\n        c3 = c3 | 0;\n\n        N3 = (~M3 & N3) | M3 & c3,\n          N2 = (~M2 & N2) | M2 & c2,\n          N1 = (~M1 & N1) | M1 & c1,\n          N0 = (~M0 & N0) | M0 & c0;\n      }\n\n      /**\n       * Store the internal state vector into the heap.\n       * @instance\n       * @memberof AES_asm\n       * @param {number} pos - offset where to put the data\n       * @return {number} The number of bytes have been written into the heap, always 16.\n       */\n      function get_state(pos) {\n        pos = pos | 0;\n\n        if (pos & 15) return -1;\n\n        DATA[pos | 0] = S0 >>> 24,\n          DATA[pos | 1] = S0 >>> 16 & 255,\n          DATA[pos | 2] = S0 >>> 8 & 255,\n          DATA[pos | 3] = S0 & 255,\n          DATA[pos | 4] = S1 >>> 24,\n          DATA[pos | 5] = S1 >>> 16 & 255,\n          DATA[pos | 6] = S1 >>> 8 & 255,\n          DATA[pos | 7] = S1 & 255,\n          DATA[pos | 8] = S2 >>> 24,\n          DATA[pos | 9] = S2 >>> 16 & 255,\n          DATA[pos | 10] = S2 >>> 8 & 255,\n          DATA[pos | 11] = S2 & 255,\n          DATA[pos | 12] = S3 >>> 24,\n          DATA[pos | 13] = S3 >>> 16 & 255,\n          DATA[pos | 14] = S3 >>> 8 & 255,\n          DATA[pos | 15] = S3 & 255;\n\n        return 16;\n      }\n\n      /**\n       * Store the internal iv vector into the heap.\n       * @instance\n       * @memberof AES_asm\n       * @param {number} pos - offset where to put the data\n       * @return {number} The number of bytes have been written into the heap, always 16.\n       */\n      function get_iv(pos) {\n        pos = pos | 0;\n\n        if (pos & 15) return -1;\n\n        DATA[pos | 0] = I0 >>> 24,\n          DATA[pos | 1] = I0 >>> 16 & 255,\n          DATA[pos | 2] = I0 >>> 8 & 255,\n          DATA[pos | 3] = I0 & 255,\n          DATA[pos | 4] = I1 >>> 24,\n          DATA[pos | 5] = I1 >>> 16 & 255,\n          DATA[pos | 6] = I1 >>> 8 & 255,\n          DATA[pos | 7] = I1 & 255,\n          DATA[pos | 8] = I2 >>> 24,\n          DATA[pos | 9] = I2 >>> 16 & 255,\n          DATA[pos | 10] = I2 >>> 8 & 255,\n          DATA[pos | 11] = I2 & 255,\n          DATA[pos | 12] = I3 >>> 24,\n          DATA[pos | 13] = I3 >>> 16 & 255,\n          DATA[pos | 14] = I3 >>> 8 & 255,\n          DATA[pos | 15] = I3 & 255;\n\n        return 16;\n      }\n\n      /**\n       * GCM initialization.\n       * @instance\n       * @memberof AES_asm\n       */\n      function gcm_init() {\n        _ecb_enc(0, 0, 0, 0);\n        H0 = S0,\n          H1 = S1,\n          H2 = S2,\n          H3 = S3;\n      }\n\n      /**\n       * Perform ciphering operation on the supplied data.\n       * @instance\n       * @memberof AES_asm\n       * @param {number} mode - block cipher mode (see {@link AES_asm} mode constants)\n       * @param {number} pos - offset of the data being processed\n       * @param {number} len - length of the data being processed\n       * @return {number} Actual amount of data have been processed.\n       */\n      function cipher(mode, pos, len) {\n        mode = mode | 0;\n        pos = pos | 0;\n        len = len | 0;\n\n        var ret = 0;\n\n        if (pos & 15) return -1;\n\n        while ((len | 0) >= 16) {\n          _cipher_modes[mode & 7](\n            DATA[pos | 0] << 24 | DATA[pos | 1] << 16 | DATA[pos | 2] << 8 | DATA[pos | 3],\n            DATA[pos | 4] << 24 | DATA[pos | 5] << 16 | DATA[pos | 6] << 8 | DATA[pos | 7],\n            DATA[pos | 8] << 24 | DATA[pos | 9] << 16 | DATA[pos | 10] << 8 | DATA[pos | 11],\n            DATA[pos | 12] << 24 | DATA[pos | 13] << 16 | DATA[pos | 14] << 8 | DATA[pos | 15]\n          );\n\n          DATA[pos | 0] = S0 >>> 24,\n            DATA[pos | 1] = S0 >>> 16 & 255,\n            DATA[pos | 2] = S0 >>> 8 & 255,\n            DATA[pos | 3] = S0 & 255,\n            DATA[pos | 4] = S1 >>> 24,\n            DATA[pos | 5] = S1 >>> 16 & 255,\n            DATA[pos | 6] = S1 >>> 8 & 255,\n            DATA[pos | 7] = S1 & 255,\n            DATA[pos | 8] = S2 >>> 24,\n            DATA[pos | 9] = S2 >>> 16 & 255,\n            DATA[pos | 10] = S2 >>> 8 & 255,\n            DATA[pos | 11] = S2 & 255,\n            DATA[pos | 12] = S3 >>> 24,\n            DATA[pos | 13] = S3 >>> 16 & 255,\n            DATA[pos | 14] = S3 >>> 8 & 255,\n            DATA[pos | 15] = S3 & 255;\n\n          ret = (ret + 16) | 0,\n            pos = (pos + 16) | 0,\n            len = (len - 16) | 0;\n        }\n\n        return ret | 0;\n      }\n\n      /**\n       * Calculates MAC of the supplied data.\n       * @instance\n       * @memberof AES_asm\n       * @param {number} mode - block cipher mode (see {@link AES_asm} mode constants)\n       * @param {number} pos - offset of the data being processed\n       * @param {number} len - length of the data being processed\n       * @return {number} Actual amount of data have been processed.\n       */\n      function mac(mode, pos, len) {\n        mode = mode | 0;\n        pos = pos | 0;\n        len = len | 0;\n\n        var ret = 0;\n\n        if (pos & 15) return -1;\n\n        while ((len | 0) >= 16) {\n          _mac_modes[mode & 1](\n            DATA[pos | 0] << 24 | DATA[pos | 1] << 16 | DATA[pos | 2] << 8 | DATA[pos | 3],\n            DATA[pos | 4] << 24 | DATA[pos | 5] << 16 | DATA[pos | 6] << 8 | DATA[pos | 7],\n            DATA[pos | 8] << 24 | DATA[pos | 9] << 16 | DATA[pos | 10] << 8 | DATA[pos | 11],\n            DATA[pos | 12] << 24 | DATA[pos | 13] << 16 | DATA[pos | 14] << 8 | DATA[pos | 15]\n          );\n\n          ret = (ret + 16) | 0,\n            pos = (pos + 16) | 0,\n            len = (len - 16) | 0;\n        }\n\n        return ret | 0;\n      }\n\n      /**\n       * AES cipher modes table (virual methods)\n       */\n      var _cipher_modes = [_ecb_enc, _ecb_dec, _cbc_enc, _cbc_dec, _cfb_enc, _cfb_dec, _ofb, _ctr];\n\n      /**\n       * AES MAC modes table (virual methods)\n       */\n      var _mac_modes = [_cbc_enc, _gcm_mac];\n\n      /**\n       * Asm.js module exports\n       */\n      return {\n        set_rounds: set_rounds,\n        set_state: set_state,\n        set_iv: set_iv,\n        set_nonce: set_nonce,\n        set_mask: set_mask,\n        set_counter: set_counter,\n        get_state: get_state,\n        get_iv: get_iv,\n        gcm_init: gcm_init,\n        cipher: cipher,\n        mac: mac,\n      };\n    }(stdlib, foreign, buffer);\n\n    asm.set_key = set_key;\n\n    return asm;\n  };\n\n  /**\n   * AES enciphering mode constants\n   * @enum {number}\n   * @const\n   */\n  wrapper.ENC = {\n    ECB: 0,\n    CBC: 2,\n    CFB: 4,\n    OFB: 6,\n    CTR: 7,\n  },\n\n    /**\n     * AES deciphering mode constants\n     * @enum {number}\n     * @const\n     */\n    wrapper.DEC = {\n      ECB: 1,\n      CBC: 3,\n      CFB: 5,\n      OFB: 6,\n      CTR: 7,\n    },\n\n    /**\n     * AES MAC mode constants\n     * @enum {number}\n     * @const\n     */\n    wrapper.MAC = {\n      CBC: 0,\n      GCM: 1,\n    };\n\n  /**\n   * Heap data offset\n   * @type {number}\n   * @const\n   */\n  wrapper.HEAP_DATA = 0x4000;\n\n  return wrapper;\n}();\n","import { AES_asm } from './aes.asm';\nimport { _heap_init, _heap_write, is_bytes } from '../other/utils';\nimport { IllegalArgumentError, SecurityError } from '../other/errors';\nconst heap_pool = [];\nconst asm_pool = [];\nexport class AES {\n    constructor(key, iv, padding = true, mode, heap, asm) {\n        this.pos = 0;\n        this.len = 0;\n        this.mode = mode;\n        // The AES object state\n        this.pos = 0;\n        this.len = 0;\n        this.key = key;\n        this.iv = iv;\n        this.padding = padding;\n        // The AES \"worker\"\n        this.acquire_asm(heap, asm);\n    }\n    acquire_asm(heap, asm) {\n        if (this.heap === undefined || this.asm === undefined) {\n            this.heap = heap || heap_pool.pop() || _heap_init().subarray(AES_asm.HEAP_DATA);\n            this.asm = asm || asm_pool.pop() || new AES_asm(null, this.heap.buffer);\n            this.reset(this.key, this.iv);\n        }\n        return { heap: this.heap, asm: this.asm };\n    }\n    release_asm() {\n        if (this.heap !== undefined && this.asm !== undefined) {\n            heap_pool.push(this.heap);\n            asm_pool.push(this.asm);\n        }\n        this.heap = undefined;\n        this.asm = undefined;\n    }\n    reset(key, iv) {\n        const { asm } = this.acquire_asm();\n        // Key\n        const keylen = key.length;\n        if (keylen !== 16 && keylen !== 24 && keylen !== 32)\n            throw new IllegalArgumentError('illegal key size');\n        const keyview = new DataView(key.buffer, key.byteOffset, key.byteLength);\n        asm.set_key(keylen >> 2, keyview.getUint32(0), keyview.getUint32(4), keyview.getUint32(8), keyview.getUint32(12), keylen > 16 ? keyview.getUint32(16) : 0, keylen > 16 ? keyview.getUint32(20) : 0, keylen > 24 ? keyview.getUint32(24) : 0, keylen > 24 ? keyview.getUint32(28) : 0);\n        // IV\n        if (iv !== undefined) {\n            if (iv.length !== 16)\n                throw new IllegalArgumentError('illegal iv size');\n            let ivview = new DataView(iv.buffer, iv.byteOffset, iv.byteLength);\n            asm.set_iv(ivview.getUint32(0), ivview.getUint32(4), ivview.getUint32(8), ivview.getUint32(12));\n        }\n        else {\n            asm.set_iv(0, 0, 0, 0);\n        }\n    }\n    AES_Encrypt_process(data) {\n        if (!is_bytes(data))\n            throw new TypeError(\"data isn't of expected type\");\n        let { heap, asm } = this.acquire_asm();\n        let amode = AES_asm.ENC[this.mode];\n        let hpos = AES_asm.HEAP_DATA;\n        let pos = this.pos;\n        let len = this.len;\n        let dpos = 0;\n        let dlen = data.length || 0;\n        let rpos = 0;\n        let rlen = (len + dlen) & -16;\n        let wlen = 0;\n        let result = new Uint8Array(rlen);\n        while (dlen > 0) {\n            wlen = _heap_write(heap, pos + len, data, dpos, dlen);\n            len += wlen;\n            dpos += wlen;\n            dlen -= wlen;\n            wlen = asm.cipher(amode, hpos + pos, len);\n            if (wlen)\n                result.set(heap.subarray(pos, pos + wlen), rpos);\n            rpos += wlen;\n            if (wlen < len) {\n                pos += wlen;\n                len -= wlen;\n            }\n            else {\n                pos = 0;\n                len = 0;\n            }\n        }\n        this.pos = pos;\n        this.len = len;\n        return result;\n    }\n    AES_Encrypt_finish() {\n        let { heap, asm } = this.acquire_asm();\n        let amode = AES_asm.ENC[this.mode];\n        let hpos = AES_asm.HEAP_DATA;\n        let pos = this.pos;\n        let len = this.len;\n        let plen = 16 - (len % 16);\n        let rlen = len;\n        if (this.hasOwnProperty('padding')) {\n            if (this.padding) {\n                for (let p = 0; p < plen; ++p) {\n                    heap[pos + len + p] = plen;\n                }\n                len += plen;\n                rlen = len;\n            }\n            else if (len % 16) {\n                throw new IllegalArgumentError('data length must be a multiple of the block size');\n            }\n        }\n        else {\n            len += plen;\n        }\n        const result = new Uint8Array(rlen);\n        if (len)\n            asm.cipher(amode, hpos + pos, len);\n        if (rlen)\n            result.set(heap.subarray(pos, pos + rlen));\n        this.pos = 0;\n        this.len = 0;\n        this.release_asm();\n        return result;\n    }\n    AES_Decrypt_process(data) {\n        if (!is_bytes(data))\n            throw new TypeError(\"data isn't of expected type\");\n        let { heap, asm } = this.acquire_asm();\n        let amode = AES_asm.DEC[this.mode];\n        let hpos = AES_asm.HEAP_DATA;\n        let pos = this.pos;\n        let len = this.len;\n        let dpos = 0;\n        let dlen = data.length || 0;\n        let rpos = 0;\n        let rlen = (len + dlen) & -16;\n        let plen = 0;\n        let wlen = 0;\n        if (this.padding) {\n            plen = len + dlen - rlen || 16;\n            rlen -= plen;\n        }\n        const result = new Uint8Array(rlen);\n        while (dlen > 0) {\n            wlen = _heap_write(heap, pos + len, data, dpos, dlen);\n            len += wlen;\n            dpos += wlen;\n            dlen -= wlen;\n            wlen = asm.cipher(amode, hpos + pos, len - (!dlen ? plen : 0));\n            if (wlen)\n                result.set(heap.subarray(pos, pos + wlen), rpos);\n            rpos += wlen;\n            if (wlen < len) {\n                pos += wlen;\n                len -= wlen;\n            }\n            else {\n                pos = 0;\n                len = 0;\n            }\n        }\n        this.pos = pos;\n        this.len = len;\n        return result;\n    }\n    AES_Decrypt_finish() {\n        let { heap, asm } = this.acquire_asm();\n        let amode = AES_asm.DEC[this.mode];\n        let hpos = AES_asm.HEAP_DATA;\n        let pos = this.pos;\n        let len = this.len;\n        let rlen = len;\n        if (len > 0) {\n            if (len % 16) {\n                if (this.hasOwnProperty('padding')) {\n                    throw new IllegalArgumentError('data length must be a multiple of the block size');\n                }\n                else {\n                    len += 16 - (len % 16);\n                }\n            }\n            asm.cipher(amode, hpos + pos, len);\n            if (this.hasOwnProperty('padding') && this.padding) {\n                let pad = heap[pos + rlen - 1];\n                if (pad < 1 || pad > 16 || pad > rlen)\n                    throw new SecurityError('bad padding');\n                let pcheck = 0;\n                for (let i = pad; i > 1; i--)\n                    pcheck |= pad ^ heap[pos + rlen - i];\n                if (pcheck)\n                    throw new SecurityError('bad padding');\n                rlen -= pad;\n            }\n        }\n        const result = new Uint8Array(rlen);\n        if (rlen > 0) {\n            result.set(heap.subarray(pos, pos + rlen));\n        }\n        this.pos = 0;\n        this.len = 0;\n        this.release_asm();\n        return result;\n    }\n}\n","import { AES } from './aes';\nimport { joinBytes } from '../other/utils';\nexport class AES_CFB {\n    static encrypt(data, key, iv) {\n        return new AES_CFB(key, iv).encrypt(data);\n    }\n    static decrypt(data, key, iv) {\n        return new AES_CFB(key, iv).decrypt(data);\n    }\n    constructor(key, iv, aes) {\n        this.aes = aes ? aes : new AES(key, iv, true, 'CFB');\n        delete this.aes.padding;\n    }\n    encrypt(data) {\n        const r1 = this.aes.AES_Encrypt_process(data);\n        const r2 = this.aes.AES_Encrypt_finish();\n        return joinBytes(r1, r2);\n    }\n    decrypt(data) {\n        const r1 = this.aes.AES_Decrypt_process(data);\n        const r2 = this.aes.AES_Decrypt_finish();\n        return joinBytes(r1, r2);\n    }\n}\n","// This is only used in `decryptLegacy`\nimport { AES_CFB } from '@openpgp/asmcrypto.js/dist_es8/aes/cfb';\n\nexport const AES256 = {\n    blockSize: 16,\n    decrypt: (message, key, iv) => AES_CFB.decrypt(message, key, iv)\n};\n"],"names":["IllegalStateError","Error","constructor","args","super","Object","create","prototype","name","value","IllegalArgumentError","SecurityError","atob","btoa","is_bytes","a","Uint8Array","_heap_init","heap","heapSize","size","byteLength","ArrayBuffer","_heap_write","hpos","data","dpos","dlen","hlen","length","wlen","set","subarray","joinBytes","arg","totalLenght","reduce","sum","curr","ret","cursor","i","AES_asm","gexp3","glog3","ginit_done","gmul","b","c","aes_sbox","aes_sinv","aes_enc","aes_dec","aes_init_done","aes_init","_s","s","x","ginv","d","ginit","t","wrapper","foreign","buffer","Uint32Array","asm","stdlib","S0","S1","S2","S3","I0","I1","I2","I3","N0","N1","N2","N3","M0","M1","M2","M3","H0","H1","H2","H3","R","HEAP","DATA","_core","k","r","x0","x1","x2","x3","t1","t2","t3","y0","y1","y2","y3","_ecb_enc","_ecb_dec","_cbc_enc","_cbc_dec","_cfb_enc","_cfb_dec","_ofb","_ctr","_gcm_mac","z0","z1","z2","z3","set_rounds","set_state","s0","s1","s2","s3","set_iv","i0","i1","i2","i3","set_nonce","n0","n1","n2","n3","set_mask","m0","m1","m2","m3","set_counter","c0","c1","c2","c3","get_state","pos","get_iv","gcm_init","cipher","mode","len","_cipher_modes","mac","_mac_modes","set_key","ks","k0","k1","k2","k3","k4","k5","k6","k7","ekeys","dkeys","rcon","j","jj","ENC","ECB","CBC","CFB","OFB","CTR","DEC","MAC","GCM","HEAP_DATA","heap_pool","asm_pool","AES","key","iv","padding","this","acquire_asm","undefined","pop","reset","release_asm","push","keylen","keyview","DataView","byteOffset","getUint32","ivview","AES_Encrypt_process","TypeError","amode","rpos","result","AES_Encrypt_finish","plen","rlen","hasOwnProperty","p","AES_Decrypt_process","AES_Decrypt_finish","pad","pcheck","AES_CFB","encrypt","decrypt","aes","r1","r2","AES256","blockSize","message"],"sourceRoot":""}