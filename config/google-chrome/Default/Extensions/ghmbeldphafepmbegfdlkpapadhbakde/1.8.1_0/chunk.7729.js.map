{"version":3,"file":"chunk.7729.js","mappings":"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","sources":["webpack://proton-pass-extension/../../node_modules/openpgp/dist/lightweight/web-streams-adapter.min.mjs"],"sourcesContent":["/*! OpenPGP.js v5.10.2 - 2023-09-18 - this is LGPL licensed code, see LICENSE/our website https://openpgpjs.org/ for more information. */\n\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self&&self;\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};function e(e,r){if(\"function\"!=typeof r&&null!==r)throw new TypeError(\"Class extends value \"+r+\" is not a constructor or null\");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}function r(t){if(!t)throw new TypeError(\"Assertion failed\")}function n(){}function i(t){return\"object\"==typeof t&&null!==t||\"function\"==typeof t}function o(t){if(\"function\"!=typeof t)return!1;var e=!1;try{new t({start:function(){e=!0}})}catch(t){}return e}function a(t){return!!i(t)&&\"function\"==typeof t.getReader}function s(t){return!!i(t)&&\"function\"==typeof t.getWriter}function u(t){return!!i(t)&&(!!a(t.readable)&&!!s(t.writable))}function d(t){try{return t.getReader({mode:\"byob\"}).releaseLock(),!0}catch(t){return!1}}function h(t){r(function(t){return!!o(t)&&!!a(new t)}(t));var e=function(t){try{return new t({type:\"bytes\"}),!0}catch(t){return!1}}(t);return function(r,n){var i=(void 0===n?{}:n).type;if(\"bytes\"!==(i=f(i))||e||(i=void 0),r.constructor===t&&(\"bytes\"!==i||d(r)))return r;if(\"bytes\"===i){var o=c(r,{type:i});return new t(o)}o=c(r);return new t(o)}}function c(t,e){var n=(void 0===e?{}:e).type;return r(a(t)),r(!1===t.locked),\"bytes\"===(n=f(n))?new y(t):new _(t)}function f(t){var e=t+\"\";if(\"bytes\"===e)return e;if(void 0===t)return t;throw new RangeError(\"Invalid type is specified\")}var l=function(){function t(t){this._underlyingReader=void 0,this._readerMode=void 0,this._readableStreamController=void 0,this._pendingRead=void 0,this._underlyingStream=t,this._attachDefaultReader()}return t.prototype.start=function(t){this._readableStreamController=t},t.prototype.cancel=function(t){return r(void 0!==this._underlyingReader),this._underlyingReader.cancel(t)},t.prototype._attachDefaultReader=function(){if(\"default\"!==this._readerMode){this._detachReader();var t=this._underlyingStream.getReader();this._readerMode=\"default\",this._attachReader(t)}},t.prototype._attachReader=function(t){var e=this;r(void 0===this._underlyingReader),this._underlyingReader=t;var i=this._underlyingReader.closed;i&&i.then((function(){return e._finishPendingRead()})).then((function(){t===e._underlyingReader&&e._readableStreamController.close()}),(function(r){t===e._underlyingReader&&e._readableStreamController.error(r)})).catch(n)},t.prototype._detachReader=function(){void 0!==this._underlyingReader&&(this._underlyingReader.releaseLock(),this._underlyingReader=void 0,this._readerMode=void 0)},t.prototype._pullWithDefaultReader=function(){var t=this;this._attachDefaultReader();var e=this._underlyingReader.read().then((function(e){var r=t._readableStreamController;e.done?t._tryClose():r.enqueue(e.value)}));return this._setPendingRead(e),e},t.prototype._tryClose=function(){try{this._readableStreamController.close()}catch(t){}},t.prototype._setPendingRead=function(t){var e,r=this,n=function(){r._pendingRead===e&&(r._pendingRead=void 0)};this._pendingRead=e=t.then(n,n)},t.prototype._finishPendingRead=function(){var t=this;if(this._pendingRead){var e=function(){return t._finishPendingRead()};return this._pendingRead.then(e,e)}},t}(),_=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.pull=function(){return this._pullWithDefaultReader()},r}(l);function p(t){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}var y=function(t){function n(e){var r=this,n=d(e);return(r=t.call(this,e)||this)._supportsByob=n,r}return e(n,t),Object.defineProperty(n.prototype,\"type\",{get:function(){return\"bytes\"},enumerable:!1,configurable:!0}),n.prototype._attachByobReader=function(){if(\"byob\"!==this._readerMode){r(this._supportsByob),this._detachReader();var t=this._underlyingStream.getReader({mode:\"byob\"});this._readerMode=\"byob\",this._attachReader(t)}},n.prototype.pull=function(){if(this._supportsByob){var t=this._readableStreamController.byobRequest;if(t)return this._pullWithByobRequest(t)}return this._pullWithDefaultReader()},n.prototype._pullWithByobRequest=function(t){var e=this;this._attachByobReader();var r=new Uint8Array(t.view.byteLength),n=this._underlyingReader.read(r).then((function(r){var n,i,o;e._readableStreamController,r.done?(e._tryClose(),t.respond(0)):(n=r.value,i=t.view,o=p(n),p(i).set(o,0),t.respond(r.value.byteLength))}));return this._setPendingRead(n),n},n}(l);function v(t){return r(function(t){return!!o(t)&&!!s(new t)}(t)),function(e){if(e.constructor===t)return e;var r=g(e);return new t(r)}}function g(t){r(s(t)),r(!1===t.locked);var e=t.getWriter();return new b(e)}var b=function(){function t(t){var e=this;this._writableStreamController=void 0,this._pendingWrite=void 0,this._state=\"writable\",this._storedError=void 0,this._underlyingWriter=t,this._errorPromise=new Promise((function(t,r){e._errorPromiseReject=r})),this._errorPromise.catch(n)}return t.prototype.start=function(t){var e=this;this._writableStreamController=t,this._underlyingWriter.closed.then((function(){e._state=\"closed\"})).catch((function(t){return e._finishErroring(t)}))},t.prototype.write=function(t){var e=this,r=this._underlyingWriter;if(null===r.desiredSize)return r.ready;var n=r.write(t);n.catch((function(t){return e._finishErroring(t)})),r.ready.catch((function(t){return e._startErroring(t)}));var i=Promise.race([n,this._errorPromise]);return this._setPendingWrite(i),i},t.prototype.close=function(){var t=this;return void 0===this._pendingWrite?this._underlyingWriter.close():this._finishPendingWrite().then((function(){return t.close()}))},t.prototype.abort=function(t){if(\"errored\"!==this._state)return this._underlyingWriter.abort(t)},t.prototype._setPendingWrite=function(t){var e,r=this,n=function(){r._pendingWrite===e&&(r._pendingWrite=void 0)};this._pendingWrite=e=t.then(n,n)},t.prototype._finishPendingWrite=function(){var t=this;if(void 0===this._pendingWrite)return Promise.resolve();var e=function(){return t._finishPendingWrite()};return this._pendingWrite.then(e,e)},t.prototype._startErroring=function(t){var e=this;if(\"writable\"===this._state){this._state=\"erroring\",this._storedError=t;var r=function(){return e._finishErroring(t)};void 0===this._pendingWrite?r():this._finishPendingWrite().then(r,r),this._writableStreamController.error(t)}},t.prototype._finishErroring=function(t){\"writable\"===this._state&&this._startErroring(t),\"erroring\"===this._state&&(this._state=\"errored\",this._errorPromiseReject(this._storedError))},t}();function R(t){return r(function(t){return!!o(t)&&!!u(new t)}(t)),function(e){if(e.constructor===t)return e;var r=w(e);return new t(r)}}function w(t){r(u(t));var e=t.readable,n=t.writable;r(!1===e.locked),r(!1===n.locked);var i,o=e.getReader();try{i=n.getWriter()}catch(t){throw o.releaseLock(),t}return new m(o,i)}var m=function(){function t(t,e){var r=this;this._transformStreamController=void 0,this._onRead=function(t){if(!t.done)return r._transformStreamController.enqueue(t.value),r._reader.read().then(r._onRead)},this._onError=function(t){r._flushReject(t),r._transformStreamController.error(t),r._reader.cancel(t).catch(n),r._writer.abort(t).catch(n)},this._onTerminate=function(){r._flushResolve(),r._transformStreamController.terminate();var t=new TypeError(\"TransformStream terminated\");r._writer.abort(t).catch(n)},this._reader=t,this._writer=e,this._flushPromise=new Promise((function(t,e){r._flushResolve=t,r._flushReject=e}))}return t.prototype.start=function(t){this._transformStreamController=t,this._reader.read().then(this._onRead).then(this._onTerminate,this._onError);var e=this._reader.closed;e&&e.then(this._onTerminate,this._onError)},t.prototype.transform=function(t){return this._writer.write(t)},t.prototype.flush=function(){var t=this;return this._writer.close().then((function(){return t._flushPromise}))},t}();export{h as createReadableStreamWrapper,R as createTransformStreamWrapper,c as createWrappingReadableSource,w as createWrappingTransformer,g as createWrappingWritableSink,v as createWritableStreamWrapper};\n//# sourceMappingURL=web-streams-adapter.min.mjs.map\n"],"names":["window","global","self","t","e","r","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","TypeError","n","this","constructor","create","i","o","start","a","getReader","s","getWriter","u","readable","writable","d","mode","releaseLock","h","type","f","c","locked","y","_","RangeError","l","_underlyingReader","_readerMode","_readableStreamController","_pendingRead","_underlyingStream","_attachDefaultReader","cancel","_detachReader","_attachReader","closed","then","_finishPendingRead","close","error","catch","_pullWithDefaultReader","read","done","_tryClose","enqueue","value","_setPendingRead","apply","arguments","pull","p","Uint8Array","buffer","byteOffset","byteLength","_supportsByob","defineProperty","get","enumerable","configurable","_attachByobReader","byobRequest","_pullWithByobRequest","view","respond","set","v","g","b","_writableStreamController","_pendingWrite","_state","_storedError","_underlyingWriter","_errorPromise","Promise","_errorPromiseReject","_finishErroring","write","desiredSize","ready","_startErroring","race","_setPendingWrite","_finishPendingWrite","abort","resolve","R","w","m","_transformStreamController","_onRead","_reader","_onError","_flushReject","_writer","_onTerminate","_flushResolve","terminate","_flushPromise","transform","flush"],"sourceRoot":""}