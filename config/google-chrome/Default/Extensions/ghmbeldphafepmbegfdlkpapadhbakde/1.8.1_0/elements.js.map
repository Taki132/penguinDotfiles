{"version":3,"file":"elements.js","mappings":"mBAAO,MAAMA,UAAyBC,YAGlCC,WAAAA,CAAYC,GACRC,QAEA,MAAMC,EAAaC,KAAKC,aAAa,CAAEC,KAAM,SACvCC,EAAeC,SAASC,cAAc,QACtCC,EAAa,IAAIC,MAAM,QAAS,CAAEC,SAAS,EAAMC,UAAU,IAEjEN,EAAaO,aAAa,MAAO,cACjCP,EAAaO,aAAa,OAAS,GAAEhB,EAAiBiB,aAAad,KACnEM,EAAaS,iBAAiB,QAAQ,IAAMZ,KAAKa,cAAcP,IAAa,CAAEQ,MAAM,IAEpFf,EAAWgB,YAAYZ,EAC3B,ECbG,MAAMa,UAA0BtB,EACnCE,WAAAA,GACIE,MAAM,4BACV,ECHG,MAAMmB,UAAuBvB,EAChCE,WAAAA,GACIE,MAAM,yBACV,ECEgCoB,MAChC,MAAMC,EAASf,SAASgB,cACxB,IAAKD,EAAQ,MAAM,IAAIE,MAAM,sCAE7B,MAAMV,EAAaQ,EAAOG,aAAa,eACvC,IAAKX,EAAY,MAAM,IAAIU,MAAM,2CAEjC3B,EAAiBiB,WAAaA,EAEzBY,eAAeC,IAAI,oBAAoBD,eAAeE,OAAO,kBAAmBR,GAChFM,eAAeC,IAAI,uBAAuBD,eAAeE,OAAO,qBAAsBT,EAAkB,EAGjHE,E","sources":["webpack://proton-pass-extension/./src/content/injections/custom-elements/StyledShadowHost.ts","webpack://proton-pass-extension/./src/content/injections/custom-elements/ProtonPassControl.ts","webpack://proton-pass-extension/./src/content/injections/custom-elements/ProtonPassRoot.ts","webpack://proton-pass-extension/./src/content/elements.ts"],"sourcesContent":["export class StyledShadowHost extends HTMLElement {\n    static publicPath: string;\n\n    constructor(href: string) {\n        super();\n\n        const shadowRoot = this.attachShadow({ mode: 'open' });\n        const styleElement = document.createElement('link');\n        const readyEvent = new Event('ready', { bubbles: true, composed: true });\n\n        styleElement.setAttribute('rel', 'stylesheet');\n        styleElement.setAttribute('href', `${StyledShadowHost.publicPath}${href}`);\n        styleElement.addEventListener('load', () => this.dispatchEvent(readyEvent), { once: true });\n\n        shadowRoot.appendChild(styleElement);\n    }\n}\n","import { StyledShadowHost } from './StyledShadowHost';\n\nexport class ProtonPassControl extends StyledShadowHost {\n    constructor() {\n        super('styles/styles.control.css');\n    }\n}\n","import { StyledShadowHost } from './StyledShadowHost';\n\nexport class ProtonPassRoot extends StyledShadowHost {\n    constructor() {\n        super('styles/styles.root.css');\n    }\n}\n","/* This script should not be loaded in the content-script realm :\n * we need access to the customElements API which is either missing\n * or limited in the content-script execution context */\nimport { ProtonPassControl } from './injections/custom-elements/ProtonPassControl';\nimport { ProtonPassRoot } from './injections/custom-elements/ProtonPassRoot';\nimport { StyledShadowHost } from './injections/custom-elements/StyledShadowHost';\n\nexport const createCustomElements = () => {\n    const script = document.currentScript;\n    if (!script) throw new Error('Could not reference current script');\n\n    const publicPath = script.getAttribute('public-path');\n    if (!publicPath) throw new Error('Custom elements could not be registered');\n\n    StyledShadowHost.publicPath = publicPath;\n\n    if (!customElements.get('protonpass-root')) customElements.define('protonpass-root', ProtonPassRoot);\n    if (!customElements.get('protonpass-control')) customElements.define('protonpass-control', ProtonPassControl);\n};\n\ncreateCustomElements();\n"],"names":["StyledShadowHost","HTMLElement","constructor","href","super","shadowRoot","this","attachShadow","mode","styleElement","document","createElement","readyEvent","Event","bubbles","composed","setAttribute","publicPath","addEventListener","dispatchEvent","once","appendChild","ProtonPassControl","ProtonPassRoot","createCustomElements","script","currentScript","Error","getAttribute","customElements","get","define"],"sourceRoot":""}